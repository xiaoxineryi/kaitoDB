# 数据库开发作业一

## 基本设计

块与页之间的关系，块是管理的基本单位，但是与内存的交互中页是基本单位。



参考`postgreSQL`来进行设计，所有的数据(包括数据库、模式、表等)都统一使用`OID`来进行标识，首先是数据库簇，这里保存所有的建立的数据库信息，也就是`pg_database`的一个集合，同时，系统还维护一个统一的表空间数组，每一个表空间里存放对应表的各种信息，比如类型信息、名字、存储位置等。我觉得可能每一个数据库`pg_database`里进行存储一个表空间数组`pg_tablespace[]`也是可以的。

表空间里面除了存放最基本的各项信息，这些统一可以作为`pg_class`对象进行表示以外，还需要存放里面有多少块、块的位置之类的信息。

因为在设计的时候，我们可以使用什么样的数据应该是确定的，所以系统还会维护一个`pg_type`表，来记录每一种类型的各种属性。

有了支持的基本类型，我们就可以给各种字段进行设置属性了，比如`student`中的`name`是`varchar(10)`之类的表示形式，这样，除了基本类型以外，还有一些问题就是，能不能空，是否是主键、该属性对应于哪个表等等的信息还需额外记录，因此我们使用`pg_attribute`来记录每一个表中不同的属性信息。



这样保存之类的就可以做了，读取的时候，读取到缓冲区以后，可以根据数据对应的表的各种信息，进行处理，从而得到对象的链表。